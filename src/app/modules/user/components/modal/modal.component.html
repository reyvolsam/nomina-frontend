<div class="modal-header">
    <h4 class="modal-title" id = "modal-basic-title">Usuarios</h4>
  </div><!--/modal-header-->
  <form [formGroup] = "userForm" (ngSubmit) = "onSubmit()">
    <div class="modal-body">

        <div class="row justify-content-md-center" *ngIf = "loader_data == true">
          <div class="col col-lg-2">
            <i class = "fa fa-circle-o-notch fa-spin fa-3x fa-fw"></i>
          </div>
        </div>
    
        <div *ngIf = "loader_data == false">

          <div class = "col-lg-12">
            <div class = "form-group row">
                <label class = "col-sm-3 col-form-label t_right">Nombre</label>
                <div class = "col-sm-9">
                    <input type = "text" class = "form-control" [ngClass]="{ 'is-invalid': user_submitted && c.name.errors }" id = "name" name = "name" formControlName = "name"  maxlength = "191" placeholder = "Nombre" />
                    <div *ngIf="user_submitted && c.name.errors" class = "invalid-feedback">
                      <div *ngIf="c.name.errors.required">Este campo es requerido.</div>
                    </div><!--/invalid-feedback-->
                </div><!--/col-sm-9-->
            </div><!--/form-group-->

            <div class = "form-group row">
              <label class = "col-sm-3 col-form-label t_right">Correo Electrónico</label>
              <div class = "col-sm-9">
                <input type = "text" class = "form-control" [ngClass]="{ 'is-invalid': user_submitted && c.email.errors }" id = "email" name = "email" formControlName = "email"  maxlength = "191" placeholder = "Correo Electrónico" />
                <div *ngIf="user_submitted && c.email.errors" class = "invalid-feedback">
                  <div *ngIf="c.email.errors.required">Este campo es requerido.</div>
                  <div *ngIf="c.email.errors.email">Introduzca un correo electrónico valido.</div>
                </div><!--/invalid-feedback-->
              </div><!--/col-sm-9-->
            </div><!--/form-group-->

            <div class = "form-group row">
              <label class = "col-sm-3 col-form-label t_right">Perfil</label>
              <div class = "col-sm-9">
                <select class = "form-control" [ngClass]="{ 'is-invalid': user_submitted && c.group_id.errors }" id = "group_id" name = "group_id" formControlName = "group_id">
                    <option [ngValue]="group.id" *ngFor="let group of groups_list">{{group.name}}</option>
                </select>
              </div><!--/col-sm-9-->
            </div><!--/form-group-->

            <div class = "form-group row">
              <label class = "col-sm-3 col-form-label t_right">Empresa Predeterminada</label>
              <div class = "col-sm-9">
                <select class = "form-control" [ngClass]="{ 'is-invalid': submitted && c.default_company_id.errors }" id = "default_company_id" name = "default_company_id" formControlName = "default_company_id">
                  <option [ngValue]="company.id" *ngFor="let company of companies_list">{{company.name}}</option>
                </select>
              </div><!--/col-sm-9-->
            </div><!--/form-group-->
          </div>
          <div class = "clearfix"></div>
          <div class="row">
          <div class = "col-lg-6">

            <div class="input-group mb-3">
              <input type="text" class="form-control" placeholder="Buscar Empresa" aria-label="Buscar Empresa" aria-describedby="button-addon2" [(ngModel)] = "search_text" [ngModelOptions]="{standalone: true}">
              <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" id="button-addon2" (click) = "searchForCompany()"><i class = "fa fa-search"></i></button>
              </div><!--/input-group-append-->
            </div><!--/input-group-->
            <div class = "clearfix"></div>

            <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  Empresa 1
                  <span class="badge badge-success badge-pill"><i class = "fa fa-check"></i></span>
                </li>
              </ul>

          </div><!--col-lg-6-->
          <div class = "col-lg-6">
            <h5 class="card-title">Empresas Seleccionadas</h5>
            <ul class="list-group">
              <li class="list-group-item d-flex justify-content-between align-items-center">
                Empresa 1
                <span class="badge badge-danger badge-pill"><i class = "fa fa-trash"></i></span>
              </li>
            </ul>
          </div><!--/col-lg-6-->
        </div>
        </div>


    </div><!--/modal-body-->
    <div class = "modal-footer" *ngIf = "loader_data == false">
      <button [disabled]="loader == true" type = "button" class = "btn btn-outline-danger" (click) = "Close()">Cerrar</button>
      <button *ngIf="loader == false" type = "submit" class = "btn btn-outline-success">Guardar</button>
      <i *ngIf="loader == true" class = "fa fa-circle-o-notch fa-spin fa-2x fa-fw"></i>
    </div><!--/modal-footer-->
  </form>
